<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">switchboard-tasks | Switchboard</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.switchboard.xyz/api/tasks"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-api-current"><meta data-react-helmet="true" property="og:title" content="switchboard-tasks | Switchboard"><meta data-react-helmet="true" name="description" content="Page Last Updated"><meta data-react-helmet="true" property="og:description" content="Page Last Updated"><link data-react-helmet="true" rel="icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.switchboard.xyz/api/tasks"><link data-react-helmet="true" rel="alternate" href="https://docs.switchboard.xyz/api/tasks" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.switchboard.xyz/api/tasks" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.23ec0f21.css">
<link rel="preload" href="/assets/js/runtime~main.f47391e1.js" as="script">
<link rel="preload" href="/assets/js/main.469bbf7d.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Switchboard Documentation</b></a><a class="navbar__item navbar__link" href="/introduction">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api">API</a><a href="https://switchboard.xyz/explorer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Feeds</a><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/api/tasks" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li></ul></div><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9" style="margin-left:2px">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9" style="margin-left:1px">â˜€ï¸</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api">API Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/api/idl">Anchor IDL</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/api/tasks">switchboard-tasks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/api/switchboardv2-api">switchboardv2-api</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/api/switchboardpy">switchboardpy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/api/switchboardv2-cli">switchboardv2-cli</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Switchboard Tasks</h1></header><p><img alt="Page Last Updated" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTkwIiBoZWlnaHQ9IjIwIiByb2xlPSJpbWciIGFyaWEtbGFiZWw9IlBhZ2UgTGFzdFVwZGF0ZWQ6IE1hci0wNC0yMDIyIj48dGl0bGU+UGFnZSBMYXN0VXBkYXRlZDogTWFyLTA0LTIwMjI8L3RpdGxlPjxsaW5lYXJHcmFkaWVudCBpZD0icyIgeDI9IjAiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNiYmIiIHN0b3Atb3BhY2l0eT0iLjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3Atb3BhY2l0eT0iLjEiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iciI+PHJlY3Qgd2lkdGg9IjE5MCIgaGVpZ2h0PSIyMCIgcng9IjMiIGZpbGw9IiNmZmYiLz48L2NsaXBQYXRoPjxnIGNsaXAtcGF0aD0idXJsKCNyKSI+PHJlY3Qgd2lkdGg9IjEwOSIgaGVpZ2h0PSIyMCIgZmlsbD0iIzU1NSIvPjxyZWN0IHg9IjEwOSIgd2lkdGg9IjgxIiBoZWlnaHQ9IjIwIiBmaWxsPSIjMDA3ZWM2Ii8+PHJlY3Qgd2lkdGg9IjE5MCIgaGVpZ2h0PSIyMCIgZmlsbD0idXJsKCNzKSIvPjwvZz48ZyBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iVmVyZGFuYSxHZW5ldmEsRGVqYVZ1IFNhbnMsc2Fucy1zZXJpZiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxMTAiPjx0ZXh0IGFyaWEtaGlkZGVuPSJ0cnVlIiB4PSI1NTUiIHk9IjE1MCIgZmlsbD0iIzAxMDEwMSIgZmlsbC1vcGFjaXR5PSIuMyIgdHJhbnNmb3JtPSJzY2FsZSguMSkiIHRleHRMZW5ndGg9Ijk5MCI+UGFnZSBMYXN0VXBkYXRlZDwvdGV4dD48dGV4dCB4PSI1NTUiIHk9IjE0MCIgdHJhbnNmb3JtPSJzY2FsZSguMSkiIGZpbGw9IiNmZmYiIHRleHRMZW5ndGg9Ijk5MCI+UGFnZSBMYXN0VXBkYXRlZDwvdGV4dD48dGV4dCBhcmlhLWhpZGRlbj0idHJ1ZSIgeD0iMTQ4NSIgeT0iMTUwIiBmaWxsPSIjMDEwMTAxIiBmaWxsLW9wYWNpdHk9Ii4zIiB0cmFuc2Zvcm09InNjYWxlKC4xKSIgdGV4dExlbmd0aD0iNzEwIj5NYXItMDQtMjAyMjwvdGV4dD48dGV4dCB4PSIxNDg1IiB5PSIxNDAiIHRyYW5zZm9ybT0ic2NhbGUoLjEpIiBmaWxsPSIjZmZmIiB0ZXh0TGVuZ3RoPSI3MTAiPk1hci0wNC0yMDIyPC90ZXh0PjwvZz48L3N2Zz4="></p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>http_task</td><td><a href="#httptask">OracleJob.HttpTask</a></td><td>The adapter will report the text body of a successful HTTP request to the specified url, or return an error if the response status code is greater than or equal to 400. @return string representation of it<!-- -->&#x27;<!-- -->s output.</td></tr><tr><td>websocket_task</td><td><a href="#websockettask">OracleJob.WebsocketTask</a></td><td>Opens and maintains a websocket for light speed data retrieval.</td></tr><tr><td>json_parse_task</td><td><a href="#jsonparsetask">OracleJob.JsonParseTask</a></td><td>The adapter walks the path specified and returns the value found at that result. If returning JSON data from the HttpGet or HttpPost adapters, you must use this adapter to parse the response.</td></tr><tr><td>regex_extract_task</td><td><a href="#regexextracttask">OracleJob.RegexExtractTask</a></td><td>Find a pattern within a string of a previous task and extract a group number.</td></tr><tr><td>conditional_task</td><td><a href="#conditionaltask">OracleJob.ConditionalTask</a></td><td>This task will run the <code>attempt</code> subtasks in an effort to produce a valid numerical result. If <code>attempt</code> fails to produce an acceptable result, <code>on_failure</code> subtasks will be run instead.</td></tr><tr><td>oracle_task</td><td><a href="#oracletask">OracleJob.OracleTask</a></td><td>Fetch the current price of a Solana oracle protocol.</td></tr><tr><td>lending_rate_task</td><td><a href="#lendingratetask">OracleJob.LendingRateTask</a></td><td>Return the lending rates for various Solana protocols.</td></tr><tr><td>mango_perp_market_task</td><td><a href="#mangoperpmarkettask">OracleJob.MangoPerpMarketTask</a></td><td>Return the current price for any Mango perpetual market.</td></tr><tr><td>lp_exchange_rate_task</td><td><a href="#lpexchangeratetask">OracleJob.LpExchangeRateTask</a></td><td>Fetch the current swap price for a given liquidity pool.</td></tr><tr><td>lp_token_price_task</td><td><a href="#lptokenpricetask">OracleJob.LpTokenPriceTask</a></td><td>Fetch LP token price info from a number of supported exchanges.</td></tr><tr><td>serum_swap_task</td><td><a href="#serumswaptask">OracleJob.SerumSwapTask</a></td><td>Fetch the latest swap price on Serum&#x27;s orderbook.</td></tr><tr><td>jupiter_swap_task</td><td><a href="#jupiterswaptask">OracleJob.JupiterSwapTask</a></td><td>Fetch the Jupiter swap price for a given input and output token.</td></tr><tr><td>max_task</td><td><a href="#maxtask">OracleJob.MaxTask</a></td><td>Returns the maximum value of all the results returned by the provided subtasks and subjobs.</td></tr><tr><td>mean_task</td><td><a href="#meantask">OracleJob.MeanTask</a></td><td>Returns the mean of all the results returned by the provided subtasks and subjobs.</td></tr><tr><td>median_task</td><td><a href="#mediantask">OracleJob.MedianTask</a></td><td>Returns the median of all the results returned by the provided subtasks and subjobs. Nested tasks must return a Number.</td></tr><tr><td>multiply_task</td><td><a href="#multiplytask">OracleJob.MultiplyTask</a></td><td>This task will multiply a numerical input by a scalar value or by another aggregate.</td></tr><tr><td>divide_task</td><td><a href="#dividetask">OracleJob.DivideTask</a></td><td>This task will divide a numerical input by a scalar value or by another aggregate.</td></tr><tr><td>add_task</td><td><a href="#addtask">OracleJob.AddTask</a></td><td>This task will add a numerical input by a scalar value or by another aggregate.</td></tr><tr><td>subtract_task</td><td><a href="#subtracttask">OracleJob.SubtractTask</a></td><td>This task will subtract a numerical input by a scalar value or by another aggregate.</td></tr><tr><td>twap_task</td><td><a href="#twaptask">OracleJob.TwapTask</a></td><td>Takes a twap over a set period for a certain aggregator.</td></tr><tr><td>value_task</td><td><a href="#valuetask">OracleJob.ValueTask</a></td><td>Returns a specified value.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="oraclejob">ğŸ“¦OracleJob<a class="hash-link" href="#oraclejob" title="Direct link to heading">â€‹</a></h2><p>Represents a list of tasks to be performed by a switchboard oracle.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>tasks</td><td><a href="#">OracleJob.Task</a></td><td>repeated</td><td>The chain of tasks to perform for this OracleJob.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="httptask">ğŸ› HttpTask<a class="hash-link" href="#httptask" title="Direct link to heading">â€‹</a></h2><p>The adapter will report the text body of a successful HTTP request to the specified url,
or return an error if the response status code is greater than or equal to 400.
@return string representation of it<!-- -->&#x27;<!-- -->s output.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>url</td><td>string</td><td>optional</td><td>A string containing the URL to direct this HTTP request to.</td></tr><tr><td>method</td><td><a href="#method">OracleJob.HttpTask.Method</a></td><td>optional</td><td>The type of HTTP request to make.</td></tr><tr><td>headers</td><td><a href="#header">OracleJob.HttpTask.Header</a></td><td>repeated</td><td>A list of headers to add to this HttpTask.</td></tr><tr><td>body</td><td>string</td><td>optional</td><td>A stringified body (if any) to add to this HttpTask.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="header">Header<a class="hash-link" href="#header" title="Direct link to heading">â€‹</a></h3><p>An object that represents a header to add to an HTTP request.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>key</td><td>string</td><td>optional</td><td></td></tr><tr><td>value</td><td>string</td><td>optional</td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="method">Method<a class="hash-link" href="#method" title="Direct link to heading">â€‹</a></h3><p>An enumeration representing the types of HTTP requests available to make.</p><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>METHOD_UNKNOWN</td><td>0</td><td>Unset HTTP method will default to METHOD_GET</td></tr><tr><td>METHOD_GET</td><td>1</td><td>Perform an HTTP <!-- -->&#x27;<!-- -->GET<!-- -->&#x27;<!-- --> request.</td></tr><tr><td>METHOD_POST</td><td>2</td><td>Perform an HTTP <!-- -->&#x27;<!-- -->POST<!-- -->&#x27;<!-- --> request.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="websockettask">ğŸ› WebsocketTask<a class="hash-link" href="#websockettask" title="Direct link to heading">â€‹</a></h2><p>Opens and maintains a websocket for light speed data retrieval.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>url</td><td>string</td><td>optional</td><td>The websocket url.</td></tr><tr><td>subscription</td><td>string</td><td>optional</td><td>The websocket message to notify of a new subscription.</td></tr><tr><td>max_data_age_seconds</td><td>int32</td><td>optional</td><td>Minimum amount of time required between when the horses are taking out.</td></tr><tr><td>filter</td><td>string</td><td>optional</td><td>Incoming message JSONPath filter. Example: <!-- -->&quot;<!-- -->$<!-- -->[?(@.channel == <!-- -->&#x27;<!-- -->ticker<!-- -->&#x27;<!-- --> <!-- -->&amp;<!-- -->&amp;<!-- --> @.market == <!-- -->&#x27;<!-- -->BTC/USD<!-- -->&#x27;<!-- -->)]<!-- -->&quot;</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="jsonparsetask">ğŸ› JsonParseTask<a class="hash-link" href="#jsonparsetask" title="Direct link to heading">â€‹</a></h2><p>The adapter walks the path specified and returns the value found at that result. If returning JSON data from the HttpGet or HttpPost adapters, you must use this adapter to parse the response.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>optional</td><td>JSONPath formatted path to the element. <a href="https://t.ly/uLtw" target="_blank" rel="noopener noreferrer">https://t.ly/uLtw</a> <a href="https://www.npmjs.com/package/jsonpath-plus" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/jsonpath-plus</a></td></tr><tr><td>aggregation_method</td><td><a href="#aggregationmethod">AggregationMethod</a></td><td>optional</td><td>The technique that will be used to aggregate the results if walking the specified path returns multiple numerical results.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="aggregationmethod">AggregationMethod<a class="hash-link" href="#aggregationmethod" title="Direct link to heading">â€‹</a></h3><p>The methods of combining a list of numerical results.</p><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>NONE</td><td>0</td><td></td></tr><tr><td>MIN</td><td>1</td><td>Grab the minimum value of the results.</td></tr><tr><td>MAX</td><td>2</td><td>Grab the maximum value of the results.</td></tr><tr><td>SUM</td><td>3</td><td>Sum up all of the results.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="regexextracttask">ğŸ› RegexExtractTask<a class="hash-link" href="#regexextracttask" title="Direct link to heading">â€‹</a></h2><p>Find a pattern within a string of a previous task and extract a group number.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>pattern</td><td>string</td><td>optional</td><td>Regex pattern to find.</td></tr><tr><td>group_number</td><td>int32</td><td>optional</td><td>Group number to extract.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="conditionaltask">ğŸ› ConditionalTask<a class="hash-link" href="#conditionaltask" title="Direct link to heading">â€‹</a></h2><p>This task will run the <code>attempt</code> subtasks in an effort to produce a valid numerical result. If
<code>attempt</code> fails to produce an acceptable result, <code>on_failure</code> subtasks will be run instead.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>attempt</td><td><a href="#">OracleJob.Task</a></td><td>repeated</td><td>A list of subtasks to process in an attempt to produce a valid numerical result.</td></tr><tr><td>on_failure</td><td><a href="#">OracleJob.Task</a></td><td>repeated</td><td>A list of subtasks that will be run if <code>attempt</code> subtasks are unable to produce an acceptable result.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="oracletask">ğŸ› OracleTask<a class="hash-link" href="#oracletask" title="Direct link to heading">â€‹</a></h2><p>Fetch the current price of a Solana oracle protocol</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>switchboard_address</td><td><a href="#string">string</a></td><td>optional</td><td>Mainnet address of a Switchboard V2 feed. Switchboard is decentralized and allows anyone to build their own feed. A small subset of feeds is available here: <a href="https://switchboard.xyz/explorer" target="_blank" rel="noopener noreferrer">https://switchboard.xyz/explorer</a></td></tr><tr><td>pyth_address</td><td><a href="#string">string</a></td><td>optional</td><td>Mainnet address for a Pyth feed. A full list can be found here: <a href="https://pyth.network/markets/" target="_blank" rel="noopener noreferrer">https://pyth.network/markets/</a></td></tr><tr><td>chainlink_address</td><td><a href="#string">string</a></td><td>optional</td><td>Devnet address for a Chainlink feed. A full list can be found here: <a href="https://docs.chain.link/docs/solana/data-feeds-solana" target="_blank" rel="noopener noreferrer">https://docs.chain.link/docs/solana/data-feeds-solana</a></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="lendingratetask">ğŸ› LendingRateTask<a class="hash-link" href="#lendingratetask" title="Direct link to heading">â€‹</a></h2><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>protocol</td><td><a href="#string">string</a></td><td>optional</td><td>01, apricot, francium, jet, larix, mango, port, solend, tulip</td></tr><tr><td>asset_mint</td><td><a href="#string">string</a></td><td>optional</td><td>A token mint address supported by the chosen protocol.</td></tr><tr><td>field</td><td><a href="#lendingratetaskfield">LendingRateTask.Field</a></td><td>optional</td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="lendingratetaskfield">LendingRateTask.Field<a class="hash-link" href="#lendingratetaskfield" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>FIELD_DEPOSIT_RATE</td><td>0</td><td></td></tr><tr><td>FIELD_BORROW_RATE</td><td>1</td><td></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="mangoperpmarkettask">ğŸ› MangoPerpMarketTask<a class="hash-link" href="#mangoperpmarkettask" title="Direct link to heading">â€‹</a></h2><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>perp_market_address</td><td><a href="#string">string</a></td><td>optional</td><td>Mainnet address for a mango perpetual market. A full list can be found here: <a href="https://github.com/blockworks-foundation/mango-client-v3/blob/main/src/ids.json" target="_blank" rel="noopener noreferrer">https://github.com/blockworks-foundation/mango-client-v3/blob/main/src/ids.json</a></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="lpexchangeratetask">ğŸ› LpExchangeRateTask<a class="hash-link" href="#lpexchangeratetask" title="Direct link to heading">â€‹</a></h2><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>in_token_address</td><td>string</td><td>optional</td><td>Not Used.</td></tr><tr><td>out_token_address</td><td>string</td><td>optional</td><td>Not Used.</td></tr><tr><td>mercurial_pool_address</td><td>string</td><td>optional</td><td>Mercurial finance pool address. A full list can be found here: <a href="https://github.com/mercurial-finance/stable-swap-n-pool-js" target="_blank" rel="noopener noreferrer">https://github.com/mercurial-finance/stable-swap-n-pool-js</a></td></tr><tr><td>saber_pool_address</td><td>string</td><td>optional</td><td>Saber pool address. A full list can be found here: <a href="https://github.com/saber-hq/saber-registry-dist" target="_blank" rel="noopener noreferrer">https://github.com/saber-hq/saber-registry-dist</a></td></tr><tr><td>orca_pool_token_mint_address</td><td>string</td><td>optional</td><td>Orca pool address. A full list can be found here: <a href="https://www.orca.so/pools" target="_blank" rel="noopener noreferrer">https://www.orca.so/pools</a></td></tr><tr><td>raydium_pool_address</td><td>string</td><td>optional</td><td>The Raydium liquidity pool ammId. A full list can be found here: <a href="https://sdk.raydium.io/liquidity/mainnet.json" target="_blank" rel="noopener noreferrer">https://sdk.raydium.io/liquidity/mainnet.json</a></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="lptokenpricetask">ğŸ› LpTokenPriceTask<a class="hash-link" href="#lptokenpricetask" title="Direct link to heading">â€‹</a></h2><p>Fetch LP token price info from a number of supported exchanges.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>mercurial_pool_address</td><td>string</td><td>optional</td><td>Mercurial finance pool address. A full list can be found here: <a href="https://github.com/mercurial-finance/stable-swap-n-pool-js" target="_blank" rel="noopener noreferrer">https://github.com/mercurial-finance/stable-swap-n-pool-js</a></td></tr><tr><td>saber_pool_address</td><td>string</td><td>optional</td><td>Saber pool address. A full list can be found here: <a href="https://github.com/saber-hq/saber-registry-dist" target="_blank" rel="noopener noreferrer">https://github.com/saber-hq/saber-registry-dist</a></td></tr><tr><td>orca_pool_address</td><td>string</td><td>optional</td><td>Orca pool address. A full list can be found here: <a href="https://www.orca.so/pools" target="_blank" rel="noopener noreferrer">https://www.orca.so/pools</a></td></tr><tr><td>raydium_pool_address</td><td>string</td><td>optional</td><td>The Raydium liquidity pool ammId. A full list can be found here: <a href="https://sdk.raydium.io/liquidity/mainnet.json" target="_blank" rel="noopener noreferrer">https://sdk.raydium.io/liquidity/mainnet.json</a></td></tr><tr><td>use_fair_price</td><td>boolean</td><td>optional</td><td>If enabled and price_feed_addresses provided, the oracle will calculate the fair LP price based on the liquidity pool reserves. See our blog post for more information: <a href="https://switchboardxyz.medium.com/fair-lp-token-oracles-94a457c50239" target="_blank" rel="noopener noreferrer">https://switchboardxyz.medium.com/fair-lp-token-oracles-94a457c50239</a></td></tr><tr><td>price_feed_addresses</td><td>string[]</td><td>repeated</td><td>A list of Switchboard aggregator accounts used to calculate the fair LP price. This ensures the price is based on the previous round to mitigate flash loan price manipulation.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="serumswaptask">ğŸ› SerumSwapTask<a class="hash-link" href="#serumswaptask" title="Direct link to heading">â€‹</a></h2><p>Fetch the latest swap price on Serum<!-- -->&#x27;<!-- -->s orderbook</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>serum_pool_address</td><td>string</td><td>optional</td><td>The serum pool to fetch swap price for</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="jupiterswaptask">ğŸ› JupiterSwapTask<a class="hash-link" href="#jupiterswaptask" title="Direct link to heading">â€‹</a></h2><p>Fetch the Jupiter swap price for a given input and output token.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>in_token_address</td><td>string</td><td>optional</td><td>The input token mint address.</td></tr><tr><td>out_token_address</td><td>string</td><td>optional</td><td>The output token mint address.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="maxtask">ğŸ› MaxTask<a class="hash-link" href="#maxtask" title="Direct link to heading">â€‹</a></h2><p>Returns the maximum value of all the results returned by the provided subtasks and subjobs.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>tasks</td><td><a href="#">OracleJob.Task</a></td><td>repeated</td><td>A list of subtasks to process and produce a list of result values.</td></tr><tr><td>jobs</td><td><a href="#oraclejob">OracleJob</a></td><td>repeated</td><td>A list of subjobs to process and produce a list of result values.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="meantask">ğŸ› MeanTask<a class="hash-link" href="#meantask" title="Direct link to heading">â€‹</a></h2><p>Returns the mean of all the results returned by the provided subtasks and subjobs.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>tasks</td><td><a href="#">OracleJob.Task</a></td><td>repeated</td><td>A list of subtasks to process and produce a list of result values.</td></tr><tr><td>jobs</td><td><a href="#oraclejob">OracleJob</a></td><td>repeated</td><td>A list of subjobs to process and produce a list of result values.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="mediantask">ğŸ› MedianTask<a class="hash-link" href="#mediantask" title="Direct link to heading">â€‹</a></h2><p>Returns the median of all the results returned by the provided subtasks and subjobs. Nested
tasks must return a Number.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>tasks</td><td><a href="#">OracleJob.Task</a></td><td>repeated</td><td>A list of subtasks to process and produce a list of result values.</td></tr><tr><td>jobs</td><td><a href="#oraclejob">OracleJob</a></td><td>repeated</td><td>A list of subjobs to process and produce a list of result values.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="multiplytask">ğŸ› MultiplyTask<a class="hash-link" href="#multiplytask" title="Direct link to heading">â€‹</a></h2><p>This task will multiply a numerical input by a scalar value or by another
aggregate.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>scalar</td><td>double</td><td>optional</td><td>Specifies a scalar to multiply by.</td></tr><tr><td>aggregator_pubkey</td><td>string</td><td>optional</td><td>Specifies an aggregator to multiply by.</td></tr><tr><td>job</td><td><a href="#oraclejob">OracleJob</a></td><td>optional</td><td>A job whose result is computed before multiplying our numerical input by that result.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="dividetask">ğŸ› DivideTask<a class="hash-link" href="#dividetask" title="Direct link to heading">â€‹</a></h2><p>This task will divide a numerical input by a scalar value or by another
aggregate.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>scalar</td><td>double</td><td>optional</td><td>Specifies a basic scalar denominator to divide by.</td></tr><tr><td>aggregator_pubkey</td><td>string</td><td>optional</td><td>Specifies another aggregator result to divide by.</td></tr><tr><td>job</td><td><a href="#oraclejob">OracleJob</a></td><td>optional</td><td>A job whose result is computed before dividing our numerical input by that result.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="addtask">ğŸ› AddTask<a class="hash-link" href="#addtask" title="Direct link to heading">â€‹</a></h2><p>This task will add a numerical input by a scalar value or by another
aggregate.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>scalar</td><td>double</td><td>optional</td><td>Specifies a scalar to add by.</td></tr><tr><td>aggregator_pubkey</td><td>string</td><td>optional</td><td>Specifies an aggregator to add by.</td></tr><tr><td>job</td><td><a href="#oraclejob">OracleJob</a></td><td>optional</td><td>A job whose result is computed before adding our numerical input by that result.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="subtracttask">ğŸ› SubtractTask<a class="hash-link" href="#subtracttask" title="Direct link to heading">â€‹</a></h2><p>This task will subtract a numerical input by a scalar value or by another
aggregate.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>scalar</td><td>double</td><td>optional</td><td>Specifies a scalar to subtract by.</td></tr><tr><td>aggregator_pubkey</td><td>string</td><td>optional</td><td>Specifies an aggregator to subtract by.</td></tr><tr><td>job</td><td><a href="#oraclejob">OracleJob</a></td><td>optional</td><td>A job whose result is computed before subtracting our numerical input by that result.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="twaptask">ğŸ› TwapTask<a class="hash-link" href="#twaptask" title="Direct link to heading">â€‹</a></h2><p>Takes a twap over a set period for a certain aggregator.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>aggregator_pubkey</td><td>string</td><td>optional</td><td>The target aggregator for the TWAP.</td></tr><tr><td>period</td><td>int32</td><td>optional</td><td>Period, in seconds, the twap should account for</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="valuetask">ğŸ› ValueTask<a class="hash-link" href="#valuetask" title="Direct link to heading">â€‹</a></h2><p>Returns a specified value.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>value</td><td>double</td><td>optional</td><td>The value that will be returned from this task.</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/api/idl/errors"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Errors</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/api/switchboardv2-api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#oraclejob" class="table-of-contents__link toc-highlight">ğŸ“¦OracleJob</a></li><li><a href="#httptask" class="table-of-contents__link toc-highlight">ğŸ› HttpTask</a><ul><li><a href="#header" class="table-of-contents__link toc-highlight">Header</a></li><li><a href="#method" class="table-of-contents__link toc-highlight">Method</a></li></ul></li><li><a href="#websockettask" class="table-of-contents__link toc-highlight">ğŸ› WebsocketTask</a></li><li><a href="#jsonparsetask" class="table-of-contents__link toc-highlight">ğŸ› JsonParseTask</a><ul><li><a href="#aggregationmethod" class="table-of-contents__link toc-highlight">AggregationMethod</a></li></ul></li><li><a href="#regexextracttask" class="table-of-contents__link toc-highlight">ğŸ› RegexExtractTask</a></li><li><a href="#conditionaltask" class="table-of-contents__link toc-highlight">ğŸ› ConditionalTask</a></li><li><a href="#oracletask" class="table-of-contents__link toc-highlight">ğŸ› OracleTask</a></li><li><a href="#lendingratetask" class="table-of-contents__link toc-highlight">ğŸ› LendingRateTask</a><ul><li><a href="#lendingratetaskfield" class="table-of-contents__link toc-highlight">LendingRateTask.Field</a></li></ul></li><li><a href="#mangoperpmarkettask" class="table-of-contents__link toc-highlight">ğŸ› MangoPerpMarketTask</a></li><li><a href="#lpexchangeratetask" class="table-of-contents__link toc-highlight">ğŸ› LpExchangeRateTask</a></li><li><a href="#lptokenpricetask" class="table-of-contents__link toc-highlight">ğŸ› LpTokenPriceTask</a></li><li><a href="#serumswaptask" class="table-of-contents__link toc-highlight">ğŸ› SerumSwapTask</a></li><li><a href="#jupiterswaptask" class="table-of-contents__link toc-highlight">ğŸ› JupiterSwapTask</a></li><li><a href="#maxtask" class="table-of-contents__link toc-highlight">ğŸ› MaxTask</a></li><li><a href="#meantask" class="table-of-contents__link toc-highlight">ğŸ› MeanTask</a></li><li><a href="#mediantask" class="table-of-contents__link toc-highlight">ğŸ› MedianTask</a></li><li><a href="#multiplytask" class="table-of-contents__link toc-highlight">ğŸ› MultiplyTask</a></li><li><a href="#dividetask" class="table-of-contents__link toc-highlight">ğŸ› DivideTask</a></li><li><a href="#addtask" class="table-of-contents__link toc-highlight">ğŸ› AddTask</a></li><li><a href="#subtracttask" class="table-of-contents__link toc-highlight">ğŸ› SubtractTask</a></li><li><a href="#twaptask" class="table-of-contents__link toc-highlight">ğŸ› TwapTask</a></li><li><a href="#valuetask" class="table-of-contents__link toc-highlight">ğŸ› ValueTask</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">DOCS</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/developers">Developer Resources</a></li><li class="footer__item"><a href="https://docs.rs/switchboard-program/0.1.52/switchboard_program/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rust API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://switchboard-xyz.github.io/switchboard-api/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Client API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">COMMUNITY</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/sNeGymrabT" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">MORE</div><ul class="footer__items"><li class="footer__item"><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://app.trinethire.com/companies/35264-switchboard-technology-labs/jobs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Jobs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.f47391e1.js"></script>
<script src="/assets/js/main.469bbf7d.js"></script>
</body>
</html>