<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-architecture/oracle-queue">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Oracle Queue | Switchboard</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/architecture"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Oracle Queue | Switchboard"><meta data-rh="true" name="description" content="An oracle queue governs a realm of oracles, data feeds, and randomness accounts. An oracle queue, and most of the other Switchboard accounts, have an authority field which specifies which keypair is permitted to make account changes. The authority could be controlled by a DAO to make the queue governed by its network participants."><meta data-rh="true" property="og:description" content="An oracle queue governs a realm of oracles, data feeds, and randomness accounts. An oracle queue, and most of the other Switchboard accounts, have an authority field which specifies which keypair is permitted to make account changes. The authority could be controlled by a DAO to make the queue governed by its network participants."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/architecture"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/architecture" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d4fea181.css">
<link rel="preload" href="/assets/js/runtime~main.758b2986.js" as="script">
<link rel="preload" href="/assets/js/main.6887acc6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_BxGa">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_aIr_ themedImage--light_DGIu"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_aIr_ themedImage--dark_RoHN"></div><b class="navbar__title">Switchboard Documentation</b></a><a class="navbar__item navbar__link navbar__link--active" href="/introduction">Docs</a><a class="navbar__item navbar__link" href="/idl">IDL</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/api">API</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/api/tasks">Task Protobufs</a></li><li><a href="https://docs.switchboard.xyz/api/ts" target="_blank" rel="noopener noreferrer" class="dropdown__link">Typescript</a></li><li><a href="https://docs.switchboard.xyz/api/ts-lite" target="_blank" rel="noopener noreferrer" class="dropdown__link">Typescript Lite</a></li><li><a href="https://docs.switchboard.xyz/api/py" target="_blank" rel="noopener noreferrer" class="dropdown__link">Python</a></li><li><a href="https://docs.rs/switchboard-v2/latest/switchboard_v2/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Rust</a></li><li><a class="dropdown__link" href="/api/cli">CLI</a></li></ul></div><a href="https://publish.switchboard.xyz/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Publish</a><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_NpMu"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/architecture" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li></ul></div><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_IT2h colorModeToggle_o_qc"><button class="clean-btn toggleButton_pGki toggleButtonDisabled_vZLo" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_WRF1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_zNSk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ecpa" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_NEdF"><div class="sidebar_Uz2u"><nav class="menu thin-scrollbar menu_XU2j"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/program">Program</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/architecture">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/architecture">Oracle Queue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret" tabindex="0">Queue Permissions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/permissions">Permissions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret" tabindex="0">Oracles</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/oracles">Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/oracles/oracle-buffer">Oracle Buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/oracles/activities">Activities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret" tabindex="0">Data Feeds</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds">Aggregator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/job">Job</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/history">History</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/lease">Lease</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/activities">Activities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret" tabindex="0">Randomness</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/randomness">VRF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/randomness/activities">Activities</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/oracle">Oracles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/publisher">Data Feeds</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/randomness">Randomness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/private-queues">Private Queues</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/developers">Developers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dao">Switchboard DAO</a></li></ul></nav></div></aside><main class="docMainContainer_vJqy"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ygLL"><div class="docItemContainer_yJzi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nmcO" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Architecture</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Oracle Queue</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_aX8Q theme-doc-toc-mobile tocMobile_By44"><button type="button" class="clean-btn tocCollapsibleButton_Va7b">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Oracle Queue</h1></header><img class="MuiBox-root css-0" src="/img/L1_L2_Queue_Functional_Updates.png"><p>An oracle queue governs a <em>realm</em> of oracles, data feeds, and randomness accounts. An oracle queue, and most of the other Switchboard accounts, have an <code>authority</code> field which specifies which keypair is permitted to make account changes. The <code>authority</code> could be controlled by a DAO to make the queue governed by its network participants.</p><p>An oracle queue can be divided into the following domains:</p><ul><li><a href="/architecture/permissions"><strong>Queue Permissions</strong></a>: Controls how an oracle queues resources get allocated.</li><li><a href="/architecture/oracles"><strong>Oracles</strong></a>: Maintains the list of active oracles and how they get allocated to update request.</li><li><a href="/architecture/randomness"><strong>Randomness</strong></a>: Allows developers to request a verifiable random value on-chain.</li><li><a href="/architecture/feeds"><strong>Data Feeds</strong></a>: Allows developers to build data feeds and publish on-chain.</li></ul><h2 class="anchor anchorWithStickyNavbar_YDjN" id="functions">Functions<a class="hash-link" href="#functions" title="Direct link to heading">‚Äã</a></h2><p>An oracle queue is responsible for the following functions:</p><ul><li><a href="#configuration"><strong>Configuration</strong></a>: Dictates the queue&#x27;s configuration such as it&#x27; <code>maxSize</code> or the number of cranks attached</li><li><a href="#permission"><strong>Permission</strong></a>: Dictates how new entities can join and use its resources</li><li><a href="#update-requests"><strong>Update Requests</strong></a>: Controls how update requests get allocated to oracles, whether manual or via a crank</li><li><a href="#oracle-incentives"><strong>Oracle Incentives</strong></a>: Sets the oracle rewards and slashing mechanisms, which influences queue security</li></ul><h3 class="anchor anchorWithStickyNavbar_YDjN" id="configuration">üöÄConfiguration<a class="hash-link" href="#configuration" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_YDjN" id="maxsize">maxSize<a class="hash-link" href="#maxsize" title="Direct link to heading">‚Äã</a></h4><p>When creating a queue with the OracleQueueInit instruction, an <a href="#oraclequeuebuffer">OracleQueueBuffer</a> account must be initialized with a size of 8 Bytes + (32 Bytes √ó <code>maxSize</code>), where <code>maxSize</code> is the maximum number of oracles the queue can support. Once a buffer is full, oracles must be removed before new oracles can join the network.</p><h4 class="anchor anchorWithStickyNavbar_YDjN" id="crank-accounts">Crank Account(s)<a class="hash-link" href="#crank-accounts" title="Direct link to heading">‚Äã</a></h4><p>A queue <code>authority</code> can choose to create one or many cranks, allowing an aggregator with sufficient permissions to join. The crank is a scheduling mechanism that tracks a collection of aggregators and their next available update time. The crank can be turned by anyone, and if successful, the crank turner will be rewarded for jump starting the system.</p><p>Aggregators on a crank are ordered by their next available update time with some level of jitter, providing a maximum update interval of 2 √ó an aggregator&#x27;s <code>minUpdateDelaySeconds</code>. This is to mitigate oracles being assigned to the same aggregator update request, making a feed vulnerable to a malicious oracle.</p><h3 class="anchor anchorWithStickyNavbar_YDjN" id="permission">üöÄPermission<a class="hash-link" href="#permission" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/architecture/permissions">/architecture/permissions</a> for more information on how a queue manages access to its resources.</p><h3 class="anchor anchorWithStickyNavbar_YDjN" id="update-requests">üöÄUpdate Requests<a class="hash-link" href="#update-requests" title="Direct link to heading">‚Äã</a></h3><p>The OracleQueueBuffer account stores a list of oracle public keys in a round robin fashion, using <code>currIdx</code> to track its position upon subsequent openRound calls. Oracle positions are periodically swapped in the buffer account to mitigate oracles being assigned the same data feeds each update cycle.</p><p>An aggregator with sufficient queue permissions can manually request a new value by calling the openRound instruction. If the aggregator&#x27;s configuration permits it, the next N oracles will be assigned to the data feed update request. A queue&#x27;s primary function is to allocate oracles to data feed update requests and keep the round robin queue cycling. The queue will periodically swap oracle positions to mitigate oracles being assigned the same data feed update request each cycle.</p><h3 class="anchor anchorWithStickyNavbar_YDjN" id="oracle-incentives">üöÄOracle Incentives<a class="hash-link" href="#oracle-incentives" title="Direct link to heading">‚Äã</a></h3><p>Switchboard is an open network allowing anyone to run an oracle but there are many reasons an oracle may be incentivized to game the system. For example, if we know a smart contract is using a particular feed to calculate a collateral ratio, an oracle could under-report the asset price and cause a liquidation or cause someone to not get the fair market rate for a trade. There‚Äôs a myriad of reasons an oracle could try and cheat so careful consideration was given to incentivize honest oracle behavior.</p><h4 class="anchor anchorWithStickyNavbar_YDjN" id="minstake">minStake<a class="hash-link" href="#minstake" title="Direct link to heading">‚Äã</a></h4><p>Oracles are required to provide the queue&#x27;s <code>minStake</code> to the oracle&#x27;s tokenAccount, which acts as an insurance policy to entice oracle operators to report honest results. Each oracle queue can have different staking requirements to influence its security. If the staking requirement is set too low it could attract dishonest oracles, but if set too high oracles may find a better use of their capital elsewhere.</p><h4 class="anchor anchorWithStickyNavbar_YDjN" id="oracle-rewards">Oracle Rewards<a class="hash-link" href="#oracle-rewards" title="Direct link to heading">‚Äã</a></h4><p>An oracle‚Äôs reward for a given round is determined by the queue&#x27;s <code>reward</code>. Oracles are rewarded each time they submit a result and then reevaluated when an accepted result has been accepted. When a result has been accepted, the oracle rewards are redistributed to the oracles that responded within the acceptable range. The median result filters the outliers and means an attacker needs to control the majority of the assigned oracles in order to skew a result. This is why increasing the queue&#x27;s <code>minStake</code> requirements increases the security of the network because the attacker will need more up-front capital to fund the attack. Oracle‚Äôs get assigned to data feeds in a round robin fashion with feeds scheduled at varying intervals and oracle batchSize&#x27;s, so even if an attacker controls a large number of the queue&#x27;s oracles, there is no guarantee their oracles will get assigned to the same feed.</p><h4 class="anchor anchorWithStickyNavbar_YDjN" id="slashing">Slashing<a class="hash-link" href="#slashing" title="Direct link to heading">‚Äã</a></h4><p>Switchboard uses the median oracle response to determine the accepted result. When initializing a queue, the queue <code>authority</code> specifies a <code>varianceToleranceMultiplier</code> which determines the range oracle responses may differ. An oracle queue defaults to two standard deviations. If a queue has <code>slashingEnabled</code>, any oracle who responded outside the acceptable range will be slashed and lose a portion of their staked capital. The slashing amount can be changed by the DAO to further incentivize honest oracle behavior.</p><h2 class="anchor anchorWithStickyNavbar_YDjN" id="account-schema">Account Schema<a class="hash-link" href="#account-schema" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_YDjN" id="oraclequeueaccountdata">üì¶OracleQueueAccountData<a class="hash-link" href="#oraclequeueaccountdata" title="Direct link to heading">‚Äã</a></h3><b>Size: </b>1269 Bytes<br><b>Rent Exemption: </b>0.009723120 SOL<br><br><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>u8<!-- -->[32]</td><td>Name of the queue to store on-chain.</td></tr><tr><td>metadata</td><td>u8<!-- -->[64]</td><td>Metadata of the queue to store on-chain.</td></tr><tr><td>authority</td><td>publicKey</td><td>The account delegated as the authority to for creating permissions targeted at the queue.</td></tr><tr><td>oracleTimeout</td><td>u32</td><td>Time period we should remove an oracle after if no response.</td></tr><tr><td>reward</td><td>u64</td><td>Rewards to provide oracles and round openers on this queue.</td></tr><tr><td>minStake</td><td>u64</td><td>The minimum amount of stake oracles must present to remain on the queue.</td></tr><tr><td>slashingEnabled</td><td>bool</td><td>Whether slashing is enabled on this queue.</td></tr><tr><td>varianceToleranceMultiplier</td><td><a href="/idl/types/SwitchboardDecimal">SwitchboardDecimal</a></td><td>The tolerated variance amount oracle results can have from the accepted round result before being slashed. slashBound = varianceToleranceMultiplier * stdDeviation Default: 2</td></tr><tr><td>feedProbationPeriod</td><td>u32</td><td>After a feed lease is funded or re-funded, it must consecutively succeed N amount of times or its authorization to use the queue is auto-revoked.</td></tr><tr><td>currIdx</td><td>u32</td><td>Current index of the oracle rotation.</td></tr><tr><td>size</td><td>u32</td><td>Current number of oracles on a queue.</td></tr><tr><td>gcIdx</td><td>u32</td><td>Garbage collection index.</td></tr><tr><td>consecutiveFeedFailureLimit</td><td>u64</td><td>Consecutive failure limit for a feed before feed permission is revoked.</td></tr><tr><td>consecutiveOracleFailureLimit</td><td>u64</td><td>Consecutive failure limit for an oracle before oracle permission is revoked.</td></tr><tr><td>unpermissionedFeedsEnabled</td><td>bool</td><td>Enabling this setting means data feeds do not need explicit permission to join the queue and request new values from its oracles.</td></tr><tr><td>unpermissionedVrfEnabled</td><td>bool</td><td>Enabling this setting means VRF accounts do not need explicit permission to join the queue and request new values from its oracles.</td></tr><tr><td>curatorRewardCut</td><td><a href="/idl/types/SwitchboardDecimal">SwitchboardDecimal</a></td><td></td></tr><tr><td>lockLeaseFunding</td><td>bool</td><td></td></tr><tr><td>ebuf</td><td>u8<!-- -->[1001]</td><td>Reserved.</td></tr><tr><td>maxSize</td><td>u32</td><td>Maximum number of oracles a queue can support.</td></tr><tr><td>dataBuffer</td><td>publicKey</td><td>Pubkey of the on-chain account holding the queue data.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_YDjN" id="developer-resources">Developer Resources<a class="hash-link" href="#developer-resources" title="Direct link to heading">‚Äã</a></h2><table><thead><tr><th>Instruction</th><th>API Resource(s)</th><th>Description</th></tr></thead><tbody><tr><td><b>OracleQueueInit</b></td><td><a class="nowrap" href="/api/ts/classes/OracleQueueAccount#create"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="devicons__nowrap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"></path></svg> Typescript</a><br><a class="nowrap" href="/api/py/switchboardpy.html#OracleQueueInitParams"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="devicons__nowrap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> Python</a><br><a class="nowrap" href="/api/cli/queue#sbv2-queuecreate"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="devicons__nowrap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M23.181 2.974c.568 0 .923.463.792 1.035l-3.659 15.982c-.13.572-.697 1.035-1.265 1.035H.819c-.568 0-.923-.463-.792-1.035L3.686 4.009c.13-.572.697-1.035 1.265-1.035zm-8.375 9.346c.251-.394.227-.905-.09-1.243L9.122 5.125c-.38-.404-1.037-.407-1.466-.003-.429.402-.468 1.056-.088 1.46l4.662 4.96v.11l-7.42 5.374c-.45.327-.533.977-.187 1.453.346.476.991.597 1.44.27l8.229-5.91c.28-.196.438-.365.514-.52zm-2.796 4.399a.928.928 0 00-.934.923c0 .51.418.923.934.923h4.433a.928.928 0 00.934-.923.928.928 0 00-.934-.923z"></path></svg> CLI</a></td><td><style data-emotion="css 9l3uo3">.css-9l3uo3{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">Create a new OracleQueueAccount with a specified configuration</p></td></tr><tr><td><b>OracleQueueSetRewards</b></td><td><a class="nowrap" href="/api/ts/classes/OracleQueueAccount#setrewards"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="devicons__nowrap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"></path></svg> Typescript</a></td><td><style data-emotion="css 9l3uo3">.css-9l3uo3{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">Set the rewards for an oracle queue</p></td></tr><tr><td><b>PermissionSet</b></td><td><a class="nowrap" href="/api/ts/classes/PermissionAccount#set"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="devicons__nowrap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"></path></svg> Typescript</a><br><a class="nowrap" href="/api/cli/queue#sbv2-queuepermitaggregator-aggregatorkey"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="devicons__nowrap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M23.181 2.974c.568 0 .923.463.792 1.035l-3.659 15.982c-.13.572-.697 1.035-1.265 1.035H.819c-.568 0-.923-.463-.792-1.035L3.686 4.009c.13-.572.697-1.035 1.265-1.035zm-8.375 9.346c.251-.394.227-.905-.09-1.243L9.122 5.125c-.38-.404-1.037-.407-1.466-.003-.429.402-.468 1.056-.088 1.46l4.662 4.96v.11l-7.42 5.374c-.45.327-.533.977-.187 1.453.346.476.991.597 1.44.27l8.229-5.91c.28-.196.438-.365.514-.52zm-2.796 4.399a.928.928 0 00-.934.923c0 .51.418.923.934.923h4.433a.928.928 0 00.934-.923.928.928 0 00-.934-.923z"></path></svg> CLI</a></td><td><style data-emotion="css 9l3uo3">.css-9l3uo3{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">As the authority, set the permissions for a given PermissionAccount</p></td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/program"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Program</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/architecture/permissions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Permissions</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_jWtb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#configuration" class="table-of-contents__link toc-highlight">üöÄConfiguration</a></li><li><a href="#permission" class="table-of-contents__link toc-highlight">üöÄPermission</a></li><li><a href="#update-requests" class="table-of-contents__link toc-highlight">üöÄUpdate Requests</a></li><li><a href="#oracle-incentives" class="table-of-contents__link toc-highlight">üöÄOracle Incentives</a></li></ul></li><li><a href="#account-schema" class="table-of-contents__link toc-highlight">Account Schema</a><ul><li><a href="#oraclequeueaccountdata" class="table-of-contents__link toc-highlight">üì¶OracleQueueAccountData</a></li></ul></li><li><a href="#developer-resources" class="table-of-contents__link toc-highlight">Developer Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">DOCS</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/developers">Developer Resources</a></li><li class="footer__item"><a href="https://docs.rs/switchboard-v2/latest/switchboard_v2/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rust API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.switchboard.xyz/api/ts" target="_blank" rel="noopener noreferrer" class="footer__link-item">Client API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">COMMUNITY</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/sNeGymrabT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">MORE</div><ul class="footer__items"><li class="footer__item"><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://app.trinethire.com/companies/35264-switchboard-technology-labs/jobs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Jobs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.758b2986.js"></script>
<script src="/assets/js/main.6887acc6.js"></script>
</body>
</html>