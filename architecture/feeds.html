<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-architecture/feeds/aggregator">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Aggregator | Switchboard</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/architecture/feeds"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Aggregator | Switchboard"><meta data-rh="true" name="description" content="&lt;MarkdownImage"><meta data-rh="true" property="og:description" content="&lt;MarkdownImage"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/architecture/feeds"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/architecture/feeds" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/architecture/feeds" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d4fea181.css">
<link rel="preload" href="/assets/js/runtime~main.11bb72db.js" as="script">
<link rel="preload" href="/assets/js/main.1df20aea.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_BxGa">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_aIr_ themedImage--light_DGIu"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_aIr_ themedImage--dark_RoHN"></div><b class="navbar__title">Switchboard Documentation</b></a><a class="navbar__item navbar__link navbar__link--active" href="/introduction">Docs</a><a class="navbar__item navbar__link" href="/idl">IDL</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/api">API</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/api/tasks">Task Protobufs</a></li><li><a href="https://docs.switchboard.xyz/api/ts" target="_blank" rel="noopener noreferrer" class="dropdown__link">Typescript</a></li><li><a href="https://docs.switchboard.xyz/api/ts-lite" target="_blank" rel="noopener noreferrer" class="dropdown__link">Typescript Lite</a></li><li><a href="https://docs.switchboard.xyz/api/py" target="_blank" rel="noopener noreferrer" class="dropdown__link">Python</a></li><li><a href="https://docs.rs/switchboard-v2/latest/switchboard_v2/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Rust</a></li><li><a class="dropdown__link" href="/api/cli">CLI</a></li></ul></div><a href="https://publish.switchboard.xyz/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Publish</a><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_NpMu"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/architecture/feeds" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li></ul></div><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_IT2h colorModeToggle_o_qc"><button class="clean-btn toggleButton_pGki toggleButtonDisabled_vZLo" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_WRF1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_zNSk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ecpa" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_NEdF"><div class="sidebar_Uz2u"><nav class="menu thin-scrollbar menu_XU2j"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/program">Program</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/architecture">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture">Oracle Queue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret" tabindex="0">Queue Permissions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/permissions">Permissions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret" tabindex="0">Oracles</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/oracles">Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/oracles/oracle-buffer">Oracle Buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/oracles/activities">Activities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret menu__link--active" tabindex="0">Data Feeds</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/architecture/feeds">Aggregator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/job">Job</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/history">History</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/lease">Lease</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/feeds/activities">Activities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret" tabindex="0">Randomness</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/randomness">VRF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/randomness/activities">Activities</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/oracle">Oracles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/publisher">Data Feeds</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/randomness">Randomness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/private-queues">Private Queues</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/developers">Developers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dao">Switchboard DAO</a></li></ul></nav></div></aside><main class="docMainContainer_vJqy"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ygLL"><div class="docItemContainer_yJzi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nmcO" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Architecture</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Data Feeds</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Aggregator</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_aX8Q theme-doc-toc-mobile tocMobile_By44"><button type="button" class="clean-btn tocCollapsibleButton_Va7b">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Aggregator</h1></header><style data-emotion="css kmq9ws">.css-kmq9ws{background-color:inherit;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media (min-width:600px){.css-kmq9ws{max-height:100%;}}@media (min-width:900px){.css-kmq9ws{max-height:400px;}}</style><img class="MuiBox-root css-kmq9ws" src="/img/L2_Aggregator_Accounts.png"><p>An aggregator or data feed is what on-chain developers use when building smart contracts. A data feed is a collection of jobs that get aggregated to produce some deterministic result. Each job is associated with an endpoint and has a number of tasks that get executed in sequential order in order to produce a single value. Typically the first task in a job will fetch external data with subsequent tasks responsible for parsing the response and transforming the value into a single data type, like an integer or decimal. When an oracle is assigned to process a data feed update, the oracle executes the defined jobs and publishes the median result on-chain. The data feed then computes the final value as the median response among the assigned oracles. In summary, the data feed is the blueprint for how data gets fetched from off-chain sources.</p><p>Along with the jobs, a data feed also includes a configuration dictating how often a feed should be updated and the minimum number of jobs or oracles that must respond before accepting a result. The publisher is ultimately responsible for building a data feed and making the necessary trade-offs as it‚Äôs a careful balance between cost and update interval. The publisher is usually the on-chain consumer of the data and will have the most familiarity with how the data may be used to make these considerations.</p><h2 class="anchor anchorWithStickyNavbar_YDjN" id="functions">Functions<a class="hash-link" href="#functions" title="Direct link to heading">‚Äã</a></h2><p>An aggregator is responsible for the following functions:</p><ul><li><a href="#job-definitions"><b>Job Definitions: </b></a>Defines how a result is calculated by an oracle.</li><li><a href="#oracle-consensus"><b>Oracle Consensus: </b></a>Defines how a result is accepted on-chain by a set of oracle responses.</li><li><a href="#update-requests"><b>Update Requests: </b></a>Defines how an update can be requested.</li><li><a href="#update-requests"><b>Oracle Rewards: </b></a>Rewards oracles for successfully completing an update request.</li></ul><h3 class="anchor anchorWithStickyNavbar_YDjN" id="job-definitions">üöÄJob Definitions<a class="hash-link" href="#job-definitions" title="Direct link to heading">‚Äã</a></h3><p>An aggregator stores a list of JobAccount public keys in <code>jobPubkeysData</code>, as well as the current size <code>jobPubkeysSize</code>, the hashes of the jobs in <code>jobHashes</code> to prevent malicious RPC nodes from swapping out job definitions, and their checksums in <code>jobsChecksum</code>.</p><p>An aggregator&#x27;s config also includes <code>minJobResults</code> which determines how many jobs must respond before an oracle responds on-chain. This is useful if you have an endpoint that may be unreliable and you don&#x27;t want it to affect the oracle response.</p><p><a href="/architecture/feeds/job">See /architecture/feeds/job for more info</a></p><h4 class="anchor anchorWithStickyNavbar_YDjN" id="private-apis">Private APIs<a class="hash-link" href="#private-apis" title="Direct link to heading">‚Äã</a></h4><p>Job definitions support injecting environment variables from the oracle into the tasks before execution. This functionality requires a private oracle queue because the API keys must be provided to each oracle fulfilling an update request thus requires a higher level of trust between the oracle and the API key owner.</p><h3 class="anchor anchorWithStickyNavbar_YDjN" id="oracle-consensus">üöÄOracle Consensus<a class="hash-link" href="#oracle-consensus" title="Direct link to heading">‚Äã</a></h3><p>An aggregator must specify an <code>oracleRequestBatchSize</code> which determines how many oracles get assigned to each update request. This induces extra cost on each update request but requires a higher degree of oracle collusion to affect the accepted on-chain result.</p><p>An aggregator also specifies <code>minOracleResults</code> which is the number of oracles that must respond before a value is accepted on-chain.</p><h3 class="anchor anchorWithStickyNavbar_YDjN" id="update-requests">üöÄUpdate Requests<a class="hash-link" href="#update-requests" title="Direct link to heading">‚Äã</a></h3><p>An aggregator has a number of config options which dictate whether an update request is valid. An aggregator can specify <code>startAfter</code> to only allow update request after a given unix timestamp. An aggregator can also specify <code>expiration</code> to only allow update request before a given unix timestamp. An aggregator must specify <code>minUpdateDelaySeconds</code> which enforces a minimum update delay between requests.</p><h4 class="anchor anchorWithStickyNavbar_YDjN" id="manual">Manual<a class="hash-link" href="#manual" title="Direct link to heading">‚Äã</a></h4><p>An aggregator can be updated by anyone by invoking the open round instruction. If a request is considered valid, it is assigned to a batch of oracles.</p><h4 class="anchor anchorWithStickyNavbar_YDjN" id="crank">Crank<a class="hash-link" href="#crank" title="Direct link to heading">‚Äã</a></h4><p>An aggregator with valid queue permissions can decide to join a queues crank. A crank is a collection of aggregator public keys, ordered by their next available update, with some level of jitter added to prevent a predictable oracle allocation cycle. Anyone can turn a crank and be rewarded if any update requests are successful.</p><h3 class="anchor anchorWithStickyNavbar_YDjN" id="reward-oracles">üöÄReward Oracles<a class="hash-link" href="#reward-oracles" title="Direct link to heading">‚Äã</a></h3><p>An aggregator uses a <a href="/architecture/feeds/lease">Lease Contract</a> to reward oracles each time an update request is fulfilled. The lease contract amount is derived from an aggregator&#x27;s <code>minUpdateDelaySeconds</code>, <code>oracleRequestBatchSize</code>, and the oracle queue&#x27;s specified <code>reward</code>.</p><h2 class="anchor anchorWithStickyNavbar_YDjN" id="account-schema">Account Schema<a class="hash-link" href="#account-schema" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_YDjN" id="aggregatoraccountdata">üì¶AggregatorAccountData<a class="hash-link" href="#aggregatoraccountdata" title="Direct link to heading">‚Äã</a></h3><b>Size: </b>3851 Bytes<br><b>Rent Exemption: </b>0.027693840 SOL<br><br><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>u8<!-- -->[32]</td><td>Name of the aggregator to store on-chain.</td></tr><tr><td>metadata</td><td>u8<!-- -->[128]</td><td>Metadata of the aggregator to store on-chain.</td></tr><tr><td>authorWallet</td><td>publicKey</td><td>An optional wallet for receiving kickbacks from job usage in feeds. Defaults to token vault.</td></tr><tr><td>queuePubkey</td><td>publicKey</td><td>Pubkey of the queue the aggregator belongs to</td></tr><tr><td>oracleRequestBatchSize</td><td>u32</td><td>Number of oracles assigned to an update request</td></tr><tr><td>minOracleResults</td><td>u32</td><td>Minimum number of oracle responses required before a round is validated.</td></tr><tr><td>minJobResults</td><td>u32</td><td>Minimum number of job results before an oracle accepts a result</td></tr><tr><td>minUpdateDelaySeconds</td><td>u32</td><td>Minimum number of seconds required between aggregator rounds.</td></tr><tr><td>startAfter</td><td>i64</td><td>unix_timestamp for which no feed update will occur before.</td></tr><tr><td>varianceThreshold</td><td><a href="/idl/types/SwitchboardDecimal">SwitchboardDecimal</a></td><td>Change percentage required between a previous round and the current round. If variance percentage is not met, reject new oracle responses.</td></tr><tr><td>forceReportPeriod</td><td>i64</td><td>Number of seconds for which, even if the variance threshold is not passed, accept new responses from oracles.</td></tr><tr><td>expiration</td><td>i64</td><td>Timestamp when the feed is no longer needed</td></tr><tr><td>consecutiveFailureCount</td><td>u64</td><td>Counter for the number of consecutive failures before a feed is removed from a queue. If set to 0, failed feeds will remain on the queue.</td></tr><tr><td>nextAllowedUpdateTime</td><td>i64</td><td>Timestamp when the next update request will be available</td></tr><tr><td>isLocked</td><td>bool</td><td>Flag for whether an aggregators configuration is locked for editing</td></tr><tr><td>crankPubkey</td><td>publicKey</td><td>Optional, public key of the crank the aggregator is currently using. Event based feeds do not need a crank.</td></tr><tr><td>latestConfirmedRound</td><td><a href="/idl/types/AggregatorRound">AggregatorRound</a></td><td>Latest confirmed update request result that has been accepted as valid.</td></tr><tr><td>currentRound</td><td><a href="/idl/types/AggregatorRound">AggregatorRound</a></td><td>Oracle results from the current round of update request that has not been accepted as valid yet</td></tr><tr><td>jobPubkeysData</td><td>publicKey<!-- -->[16]</td><td>List of public keys containing the job definitions for how data is sourced off-chain by oracles</td></tr><tr><td>jobHashes</td><td><a href="/idl/types/Hash">Hash</a>[16]</td><td>Used to protect against malicious RPC nodes providing incorrect task definitions to oracles before fulfillment</td></tr><tr><td>jobPubkeysSize</td><td>u32</td><td>Number of jobs assigned to an oracle</td></tr><tr><td>jobsChecksum</td><td>u8<!-- -->[32]</td><td>Used to protect against malicious RPC nodes providing incorrect task definitions to oracles before fulfillment</td></tr><tr><td>authority</td><td>publicKey</td><td>The account delegated as the authority to for changing configs or withdrawing from a lease.</td></tr><tr><td>historyBuffer</td><td>publicKey</td><td>Optional, public key of a history buffer account storing the last N accepted results and their timestamps.</td></tr><tr><td>previousConfirmedRoundResult</td><td><a href="/idl/types/SwitchboardDecimal">SwitchboardDecimal</a></td><td></td></tr><tr><td>previousConfirmedRoundSlot</td><td>u64</td><td></td></tr><tr><td>disableCrank</td><td>bool</td><td></td></tr><tr><td>ebuf</td><td>u8<!-- -->[163]</td><td>Reserved</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_YDjN" id="more-info">More Info<a class="hash-link" href="#more-info" title="Direct link to heading">‚Äã</a></h2><ul><li><a class="link__nocolor" href="/publisher">‚ÑπÔ∏è Publisher</a></li><li><a class="link__nocolor" href="/job-directory">‚ÑπÔ∏è Job Directory</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/architecture/oracles/activities"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Activities</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/architecture/feeds/job"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Job</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_jWtb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#job-definitions" class="table-of-contents__link toc-highlight">üöÄJob Definitions</a></li><li><a href="#oracle-consensus" class="table-of-contents__link toc-highlight">üöÄOracle Consensus</a></li><li><a href="#update-requests" class="table-of-contents__link toc-highlight">üöÄUpdate Requests</a></li><li><a href="#reward-oracles" class="table-of-contents__link toc-highlight">üöÄReward Oracles</a></li></ul></li><li><a href="#account-schema" class="table-of-contents__link toc-highlight">Account Schema</a><ul><li><a href="#aggregatoraccountdata" class="table-of-contents__link toc-highlight">üì¶AggregatorAccountData</a></li></ul></li><li><a href="#more-info" class="table-of-contents__link toc-highlight">More Info</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">DOCS</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/developers">Developer Resources</a></li><li class="footer__item"><a href="https://docs.rs/switchboard-v2/latest/switchboard_v2/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rust API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.switchboard.xyz/api/ts" target="_blank" rel="noopener noreferrer" class="footer__link-item">Client API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">COMMUNITY</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/sNeGymrabT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/switchboardxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">MORE</div><ul class="footer__items"><li class="footer__item"><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://app.trinethire.com/companies/35264-switchboard-technology-labs/jobs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Jobs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.11bb72db.js"></script>
<script src="/assets/js/main.1df20aea.js"></script>
</body>
</html>